{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/domready/ready.js","webpack:///./src/ParallaxMotion.js","webpack:///./src/AssetCollection.js","webpack:///./src/plugins/PluginAbstract.js","webpack:///./src/plugins/StopMotionDisplay.js","webpack:///./src/plugins/LabelDisplay.js","webpack:///./src/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","listener","fns","doc","hack","loaded","document","documentElement","doScroll","test","readyState","addEventListener","removeEventListener","shift","fn","setTimeout","push","ParallaxMotion","plugins","arguments","length","undefined","scrollThreshold","_classCallCheck","this","_defineProperty","_plugins","_scrollThreshold","_onScroll","_this","initPromises","map","plugin","init","Promise","all","then","_dispatchScrollEvent","scrollValue","direction","_direction","window","Math","floor","scrollY","delta","_previousScrollValue","abs","event","body","classList","remove","add","forEach","onScroll","AssetCollection","assetsContainerDomSelector","AssetCollection_classCallCheck","AssetCollection_defineProperty","assetsContainerDom","querySelector","Error","_assets","JSON","parse","innerHTML","onPercentChange","onLoaded","toLoadQueue","slice","loadingQueue","onreadystatechange","e","finnishedIndex","indexOf","target","src","splice","_percentLoaded","round","console","warn","maxParallel","_parllelLoad","checkLoadingQueue","imgTag","createElement","style","display","appendChild","index","PluginAbstract","resolve","StopMotionDisplay","assets","containerDomSelector","StopMotionDisplay_classCallCheck","_getPrototypeOf","StopMotionDisplay_defineProperty","_assertThisInitialized","_containerDomSelector","_this2","_domContainer","_spacer","spacerHeight","_setSpacerHeight","_dom","insertBefore","firstChild","height","width","setImage","getItem","backgroundImage","innerHeight","labelNodes","Array","from","querySelectorAll","getData","node","attrName","defaultValue","attributeValue","getAttribute","_labels","top","left","fontSize","id","parseInt","to","label","ac","AssetsCollection","pm","LabelDisplay","domready","loadingScreen","load","percent","run"],"mappings":"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","file":"js/main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","/*!\n  * domready (c) Dustin Diaz 2014 - License MIT\n  */\n!function (name, definition) {\n\n  if (typeof module != 'undefined') module.exports = definition()\n  else if (typeof define == 'function' && typeof define.amd == 'object') define(definition)\n  else this[name] = definition()\n\n}('domready', function () {\n\n  var fns = [], listener\n    , doc = document\n    , hack = doc.documentElement.doScroll\n    , domContentLoaded = 'DOMContentLoaded'\n    , loaded = (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState)\n\n\n  if (!loaded)\n  doc.addEventListener(domContentLoaded, listener = function () {\n    doc.removeEventListener(domContentLoaded, listener)\n    loaded = 1\n    while (listener = fns.shift()) listener()\n  })\n\n  return function (fn) {\n    loaded ? setTimeout(fn, 0) : fns.push(fn)\n  }\n\n});\n","import \"../sass/core.sass\";\n\nexport default class ParallaxMotion {\n\n    _scrollThreshold\n\n    _previousScrollValue\n\n    _direction = -1\n\n    /**\n     * @var {array} _plugins\n     */\n    _plugins = {}\n\n    /**\n     * animation core engine\n     * @constructor\n     */\n    constructor(plugins = [], scrollThreshold = 50) {\n        this._plugins = plugins\n\n        this._scrollThreshold = scrollThreshold\n\n        this._onScroll = this._onScroll.bind(this)\n    }\n\n    /**\n     * start animating\n     */\n    run() {\n        let initPromises = this._plugins.map((plugin) => {\n            return plugin.init(this._scrollThreshold)\n        })\n\n        Promise.all(initPromises).then(() => {\n            this._dispatchScrollEvent({\n                scrollValue: 0,\n                direction: this._direction\n            })\n            window.addEventListener('scroll', this._onScroll)\n        })\n    }\n\n    _onScroll() {\n\n        let scrollValue = Math.floor(window.scrollY / this._scrollThreshold),\n            delta = scrollValue - this._previousScrollValue,\n            direction = delta / Math.abs(delta),\n            event = {\n                scrollValue,\n                direction\n            }\n\n        if (direction !== this._direction) {\n            if (direction > 0) {\n                document.body.classList.remove('motion-down')\n                document.body.classList.add('motion-up')\n            } else {\n                document.body.classList.remove('motion-up')\n                document.body.classList.add('motion-down')\n            }    \n        }\n\n        if (scrollValue !== this._previousScrollValue)\n            this._dispatchScrollEvent(event)\n\n        this._direction = direction\n        this._previousScrollValue = scrollValue\n    }\n\n    _dispatchScrollEvent(event) {\n        this._plugins.forEach((plugin) => {\n            plugin.onScroll(event)\n        })        \n    }\n\n\n}\n","\n\nexport default class AssetCollection {\n\n    /**\n     * @var {number} length\n     */\n    length = 0\n\n    /**\n     * @var {string[]} _assets\n     */\n    _assets = []\n\n    _parllelLoad = 6\n\n    _percentLoaded = 0\n\n    /**\n     * @var {function} _onLoad\n     */\n    _onLoad\n\n    /**\n     * collection of asset \n     * (pre)loaded from (inlined) JSON\n     * @param {string} assetsContainerDomSelector \n     */\n    constructor(assetsContainerDomSelector) {\n        let assetsContainerDom = document.querySelector(assetsContainerDomSelector)\n\n        if (assetsContainerDom === null)\n            throw new Error('invalid query selector for assetsContainerDomSelector property')\n\n        this._assets = JSON.parse(assetsContainerDom.innerHTML)\n\n        this.length = this._assets.length\n    }\n\n    load(onPercentChange = () => {}, onLoaded = () => {}) {\n        let toLoadQueue = this._assets.slice(),\n            loadingQueue = [],\n            loaded = [],\n            createImageTag = () => {\n                return document.createElement('img')\n            },\n            onreadystatechange = (e) => {\n                let finnishedIndex = loadingQueue.indexOf(e.target.src)\n                \n                if (finnishedIndex !== -1) {\n                    loadingQueue.splice(finnishedIndex, 1)\n                    loaded.push(e.target.src)\n                    this._percentLoaded = Math.round(loaded.length / this._assets.length * 100)\n                    onPercentChange(this._percentLoaded)\n                }\n                else {\n                    console.warn('oups', e)\n                }\n\n            },\n            maxParallel = this._parllelLoad,\n            checkLoadingQueue = () => {\n                if (toLoadQueue.length !== 0 && loadingQueue.length < maxParallel) {\n                    let imgTag = createImageTag()\n\n                    imgTag.addEventListener('load', onreadystatechange)\n        \n                    imgTag.src = toLoadQueue.shift()\n                    imgTag.style.display = 'none'\n                    document.body.appendChild(imgTag)\n                    loadingQueue.push(imgTag.src)                                \n                }\n\n                if (loadingQueue.length !== 0 || toLoadQueue.length !== 0) {\n                    setTimeout(checkLoadingQueue, 0)\n                }\n                else {\n                    onLoaded()\n                }\n                \n            }\n\n            setTimeout(checkLoadingQueue, 0)\n    }\n\n    getPercentLoaded() {\n        return this._percentLoaded\n    }\n\n    getItem(index) {\n        return this._assets[index]\n    }\n\n}","\nexport default class PluginAbstract {\n\n    /**\n     * @return  {Promise|boolean}\n     */\n    init() { return Promise.resolve() }\n\n    onScroll(event) {}\n\n}","import PluginAbstract from './PluginAbstract'\n\nexport default class StopMotionDisplay extends PluginAbstract {\n    /**\n     * @var {Element} _domContainer\n     */\n    _domContainer\n\n    _containerDomSelector\n\n    /**\n     * @var {Element} _dom\n     */\n    _dom\n\n    _spacer\n\n    _assets\n\n    /**\n     * animation core engine\n     * @constructor\n     * @param {AssetCollection} assets\n     * @param {object} options - set of key/value pairs to configure animation\n     */\n    constructor(assets, containerDomSelector = 'body') {\n        super()\n\n        this._containerDomSelector = containerDomSelector\n\n        this._assets = assets\n    }\n    \n    init(scrollThreshold) {\n        this._domContainer = document.querySelector(this._containerDomSelector)\n\n        if (this._domContainer === null)\n            throw new Error('invalid query selector for containerDomSelector property')\n\n        this._spacer = document.createElement('div')\n        this._spacer.innerHTML = '&nbsp;'\n\n        let spacerHeight = (this._assets.length - 1) * scrollThreshold\n        this._setSpacerHeight(spacerHeight)\n        window.addEventListener('resize', () => {\n            this._setSpacerHeight(spacerHeight)\n        })\n\n        this._dom = document.createElement('div')\n\n        this._dom.classList.add('parallaxmotion-img')\n\n        this._domContainer.insertBefore(this._dom, this._domContainer.firstChild)\n        this._domContainer.insertBefore(this._spacer, this._dom)\n\n        this._domContainer.classList.add('parallaxmotion')\n\n        this._dom.style.height = '100%'\n        this._dom.style.width = '100%'\n\n        this.setImage(this._assets.getItem(0))\n\n        return true\n    }\n\n    onScroll(e) {\n        this.setImage(this._assets.getItem(e.scrollValue))        \n    }\n\n    setImage(src) {\n        this._dom.style.backgroundImage = 'url(' + src + ')'\n    }\n    \n    _setSpacerHeight(height) {\n        this._spacer.style.height = window.innerHeight + height + 'px'\n    }\n}","import PluginAbstract from './PluginAbstract'\n\nexport default class StopMotionDisplay extends PluginAbstract {\n\n    _labels = []\n\n    init() {\n        let labelNodes = Array.from(document.querySelectorAll('.motion-label'))\n        const getData = (node, attrName, defaultValue) => {\n            let attributeValue = node.getAttribute('data-' + attrName)\n            return attributeValue !== undefined ? attributeValue : defaultValue \n        }\n\n        this._labels = labelNodes.map((node) => {\n            node.style.top = getData(node, 'position-top')\n            node.style.left = getData(node, 'position-left')\n            node.style.fontSize = getData(node, 'font-size', '1em')\n\n            return {\n                id: node.id,\n                from: parseInt(getData(node, 'appear-from'), 10),\n                to: parseInt(getData(node, 'disappear-from'), 10),\n            }\n        })\n        \n        return true\n    }\n\n    onScroll(e) {\n        this._labels.forEach((label) => {\n            if (label.from <= e.scrollValue && e.scrollValue <= label.to) {\n                document.querySelector('#' + label.id).classList.add('show')\n            } else {\n                document.querySelector('#' + label.id).classList.remove('show')\n            }\n        })\n    }\n\n}","import domready from 'domready'\n\nimport ParallaxMotion from './ParallaxMotion'\nimport AssetsCollection from './AssetCollection'\nimport StopMotionDisplay from './plugins/StopMotionDisplay'\nimport LabelDisplay from './plugins/LabelDisplay'\n\n\nvar ac = new AssetsCollection('#assets'),\n    smd = new StopMotionDisplay(ac),\n    ld = new LabelDisplay(),\n    pm = new ParallaxMotion([smd, ld]);\n\ndomready(() => {\n    let loadingScreen = document.createElement('div'),\n        hideLoadingScreen = () => {\n            loadingScreen.style.display = 'none'\n        },\n        runBaby = () => {\n            hideLoadingScreen()\n            pm.run()\n        },\n        updatePercentLoaded = (percent) => {\n            loadingScreen.innerHTML = percent + '%'\n        }\n\n    loadingScreen.classList.add('loading')\n    document.body.appendChild(loadingScreen)\n\n    ac.load(updatePercentLoaded, runBaby)\n})"],"sourceRoot":""}